import{u,a as x,b as f,j as e,r as p,y as l}from"./index-bSBBOvG4.js";import{F as b,c as g,a as h,b as r,E as a,d as n,e as j}from"./createLucideIcon-6Xy3soj4.js";import{H as w,L as N}from"./Header-DrNi3FHy.js";const v=g().shape({name:n().required("Name is required"),email:n().email("Invalid email").required("Email is required"),password:n().min(6,"Min 6 characters").required("Password is required"),confirmPassword:n().oneOf([j("password"),""],"Passwords must match").required("Confirm your password"),role:n().oneOf(["admin","instructor","learner","super admin"],"Invalid role").required("Role is required")});function P(){const m=u(),d=x(),{loading:i,error:t}=f(s=>s.users),c=async s=>{try{const o=await m(p({name:s.name,email:s.email,password:s.password,role:s.role})).unwrap();l.success(o.message||"Registration successful"),d("/")}catch(o){l.error(o?.message||"Registration failed")}};return e.jsxs(e.Fragment,{children:[e.jsx(w,{}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightcyan px-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Register New Account"}),t&&e.jsx("div",{className:"text-red-500 mb-3 text-center",children:t}),e.jsx(b,{initialValues:{name:"",email:"",password:"",confirmPassword:"",role:"learner"},validationSchema:v,onSubmit:c,children:({isSubmitting:s})=>e.jsxs(h,{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),e.jsx(r,{name:"name",type:"text",className:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"}),e.jsx(a,{name:"name",component:"div",className:"text-red-500 text-sm mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx(r,{name:"email",type:"email",className:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"}),e.jsx(a,{name:"email",component:"div",className:"text-red-500 text-sm mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),e.jsx(r,{name:"password",type:"password",className:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"}),e.jsx(a,{name:"password",component:"div",className:"text-red-500 text-sm mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Confirm Password"}),e.jsx(r,{name:"confirmPassword",type:"password",className:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"}),e.jsx(a,{name:"confirmPassword",component:"div",className:"text-red-500 text-sm mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Role"}),e.jsxs(r,{as:"select",name:"role",className:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400",children:[e.jsx("option",{value:"learner",children:"Learner"}),e.jsx("option",{value:"instructor",children:"Instructor"}),e.jsx("option",{value:"admin",children:"Admin"}),e.jsx("option",{value:"super admin",children:"Super Admin"})]}),e.jsx(a,{name:"role",component:"div",className:"text-red-500 text-sm mt-1"})]}),e.jsx("button",{type:"submit",disabled:i||s,className:"bg-green-600 text-white py-2 rounded hover:bg-green-700 transition duration-200",children:i?"Registering...":"Register"}),i&&e.jsx(N,{})]})})]})})]})}export{P as default};
