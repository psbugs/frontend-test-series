import{u as g,a as b,b as m,r as l,m as j,j as e,S as N}from"./index-D-OPdEsm.js";const y=()=>{const d=g(),n=b(),{user:t}=m(s=>s.users),{tests:x,loading:a,error:r}=m(s=>s.learnerTest),[c,h]=l.useState(!1),[i,u]=l.useState(null);l.useEffect(()=>{d(j(t.id))},[d,t?.id]);const o=x.map(s=>({...s,status:s.status||"not_attempted"})),p=s=>{u(s),h(!0)};return e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-3xl font-bold mb-4",children:"ðŸŽ“ Learner Dashboard"}),e.jsxs("p",{className:"text-lg mb-6",children:["Welcome, ",t?.name||"Learner","!"]}),!c&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"ðŸ“š My Tests"}),a&&e.jsx("p",{className:"text-gray-500",children:"Loading tests..."}),r&&e.jsxs("p",{className:"text-red-500",children:["Error: ",r]}),!a&&!r&&o.length===0&&e.jsx("p",{className:"text-gray-600",children:"No active tests assigned to you."}),!a&&o.map(s=>e.jsxs("div",{className:"border p-4 rounded-lg my-3 flex flex-col md:flex-row justify-between items-start md:items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-md font-semibold",children:s.title}),e.jsx("p",{className:"text-sm text-gray-600",children:s.status==="completed"?"âœ… Attempted":"ðŸ•’ Not Attempted"})]}),e.jsx("div",{className:"flex gap-2 mt-2 md:mt-0",children:s.status==="completed"?e.jsx("button",{className:"bg-green-100 text-green-800 px-3 py-1 rounded text-sm",onClick:()=>n(`/test-series/result/${s._id}`),children:"View Result"}):e.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm",onClick:()=>p(s),children:"Start Test"})})]},s._id))]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"ðŸ“ˆ My Scores"}),e.jsx("p",{children:"View your performance history and test analytics."}),e.jsx("button",{onClick:()=>n(`/test-series/result/${t?.id}`),className:"mt-3 bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded text-sm",children:"View All Results"})]})]}),c&&i&&e.jsx(N,{test:i})]})};export{y as default};
