import{u as h,a as x,b as p,j as e,l as g,y as n}from"./index-D-OPdEsm.js";import{c as b,F as f,a as j,b as y,d as o,E as d,e as l}from"./createLucideIcon-CKPv8PuH.js";/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],v=b("loader",w),N=j().shape({email:l().email("Invalid email").required("Email is required"),password:l().min(6,"Min 6 characters").required("Password is required")});function M(){const c=h(),i=x(),{loading:r,error:t}=p(s=>s.users),m=async s=>{try{const a=await c(g(s)).unwrap();n.success(a.message||"Login successful");const u=a.user.role.toLowerCase();["admin","super admin","instructor"].includes(u)?i("/admin-dashboard"):i("/learner-dashboard")}catch(a){n.error(a?.message||"Login failed")}};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-lightcyan px-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Test Series Login"}),t&&e.jsx("div",{className:"text-red-500 mb-3 text-center",children:t}),e.jsx(f,{initialValues:{email:"",password:""},validationSchema:N,onSubmit:m,children:({isSubmitting:s})=>e.jsxs(y,{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),e.jsx(o,{type:"email",name:"email",className:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"}),e.jsx(d,{name:"email",component:"div",className:"text-red-500 text-sm mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Password"}),e.jsx(o,{type:"password",name:"password",className:"w-full border border-gray-300 p-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-400"}),e.jsx(d,{name:"password",component:"div",className:"text-red-500 text-sm mt-1"})]}),e.jsx("button",{type:"submit",disabled:r||s,className:"bg-blue-600 text-white py-2 rounded hover:bg-blue-700 transition duration-200",children:r?"Logging in...":"Login"}),r&&e.jsx(v,{})]})})]})})})}export{M as default};
